<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Boundary conditions · Oceananigans.jl</title><link rel="canonical" href="https://climate-machine.github.io/Oceananigans.jl/latest/model_setup/boundary_conditions/index.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Oceananigans.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation_instructions/">Installation instructions</a></li><li><a class="tocitem" href="../../using_gpus/">Using GPUs</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../generated/one_dimensional_diffusion/">One-dimensional diffusion</a></li><li><a class="tocitem" href="../../generated/two_dimensional_turbulence/">Two-dimensional turbulence</a></li><li><a class="tocitem" href="../../generated/ocean_wind_mixing_and_convection/">Ocean wind mixing and convection</a></li><li><a class="tocitem" href="../../generated/ocean_convection_with_plankton/">Ocean convection with plankton</a></li><li><a class="tocitem" href="../../generated/internal_wave/">Internal wave</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Model setup</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><a class="tocitem" href="../number_type/">Number type</a></li><li><a class="tocitem" href="../grids/">Grid</a></li><li><a class="tocitem" href="../clock/">Clock</a></li><li><a class="tocitem" href="../coriolis/">Coriolis (rotation)</a></li><li><a class="tocitem" href="../tracers/">Tracers</a></li><li><a class="tocitem" href="../buoyancy_and_equation_of_state/">Buoyancy and equation of state</a></li><li class="is-active"><a class="tocitem" href>Boundary conditions</a><ul class="internal"><li><a class="tocitem" href="#Types-of-boundary-conditions-1"><span>Types of boundary conditions</span></a></li><li><a class="tocitem" href="#Default-boundary-conditions-1"><span>Default boundary conditions</span></a></li><li><a class="tocitem" href="#Boundary-condition-structures-1"><span>Boundary condition structures</span></a></li><li><a class="tocitem" href="#Creating-individual-boundary-conditions-1"><span>Creating individual boundary conditions</span></a></li><li><a class="tocitem" href="#Specifying-boundary-conditions-with-functions-1"><span>Specifying boundary conditions with functions</span></a></li><li><a class="tocitem" href="#Specifying-boundary-conditions-on-a-field-1"><span>Specifying boundary conditions on a field</span></a></li><li><a class="tocitem" href="#Specifying-model-boundary-conditions-1"><span>Specifying model boundary conditions</span></a></li></ul></li><li><a class="tocitem" href="../forcing_functions/">Forcing functions</a></li><li><a class="tocitem" href="../model_parameters/">Model parameters</a></li><li><a class="tocitem" href="../turbulent_diffusivity_closures_and_les_models/">Turbulent diffusivity closures and LES models</a></li><li><a class="tocitem" href="../diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../output_writers/">Output writers</a></li><li><a class="tocitem" href="../checkpointing/">Checkpointing</a></li><li><a class="tocitem" href="../time_stepping/">Time stepping</a></li><li><a class="tocitem" href="../setting_initial_conditions/">Setting initial conditions</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Physics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../physics/navier_stokes_and_tracer_conservation/">Navier-Stokes and tracer conservation equations</a></li><li><a class="tocitem" href="../../physics/coordinate_system_and_notation/">Coordinate system and notation</a></li><li><a class="tocitem" href="../../physics/boussinesq_approximation/">The Boussinesq approximation</a></li><li><a class="tocitem" href="../../physics/coriolis_forces/">Coriolis forces</a></li><li><a class="tocitem" href="../../physics/buoyancy_and_equations_of_state/">Buoyancy model and equations of state</a></li><li><a class="tocitem" href="../../physics/turbulence_closures/">Turbulence closures</a></li><li><a class="tocitem" href="../../physics/surface_gravity_waves/">Surface gravity waves and the Craik-Leibovich approximation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Numerical implementation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../numerical_implementation/pressure_decomposition/">Pressure decomposition</a></li><li><a class="tocitem" href="../../numerical_implementation/time_stepping/">Time stepping</a></li><li><a class="tocitem" href="../../numerical_implementation/finite_volume/">Finite volume method</a></li><li><a class="tocitem" href="../../numerical_implementation/spatial_operators/">Spatial operators</a></li><li><a class="tocitem" href="../../numerical_implementation/boundary_conditions/">Boundary conditions</a></li><li><a class="tocitem" href="../../numerical_implementation/poisson_solvers/">Poisson solvers</a></li><li><a class="tocitem" href="../../numerical_implementation/large_eddy_simulation/">Large eddy simulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8" type="checkbox"/><label class="tocitem" for="menuitem-8"><span class="docs-label">Verification experiments</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../verification/taylor_green_vortex/">Taylor-Green vortex</a></li><li><a class="tocitem" href="../../verification/stratified_couette_flow/">Stratified Couette flow</a></li></ul></li><li><a class="tocitem" href="../../gallery/">Gallery</a></li><li><a class="tocitem" href="../../benchmarks/">Performance benchmarks</a></li><li><a class="tocitem" href="../../contributing/">Contributor&#39;s guide</a></li><li><a class="tocitem" href="../../library/">Library</a></li><li><input class="collapse-toggle" id="menuitem-13" type="checkbox"/><label class="tocitem" for="menuitem-13"><span class="docs-label">Appendix</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../appendix/staggered_grid/">Staggered grid</a></li><li><a class="tocitem" href="../../appendix/fractional_step/">Fractional step method</a></li></ul></li><li><a class="tocitem" href="../../function_index/">Function index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model setup</a></li><li class="is-active"><a href>Boundary conditions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Boundary conditions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/climate-machine/Oceananigans.jl/blob/master/docs/src/model_setup/boundary_conditions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Boundary-conditions-1"><a class="docs-heading-anchor" href="#Boundary-conditions-1">Boundary conditions</a><a class="docs-heading-anchor-permalink" href="#Boundary-conditions-1" title="Permalink"></a></h1><p>A boundary condition is applied to each field, dimension, and endpoint. There are left and right boundary conditions for each of the x, y, and z dimensions so each field is associated with 6 boundary conditions. Each of these boundary conditions may be specified individually. Each boundary condition can be specified via a constant value, an array, or a function.</p><p>The left and right boundary conditions associated with the x-dimension are called west and east, respectively. For the y-dimension, left and right are called south and north. For the z-dimension, left and right are called bottom and top.</p><p>See <a href="../../numerical_implementation/boundary_conditions/#numerical_bcs-1">Numerical implementation of boundary conditions</a> for more details.</p><h2 id="Types-of-boundary-conditions-1"><a class="docs-heading-anchor" href="#Types-of-boundary-conditions-1">Types of boundary conditions</a><a class="docs-heading-anchor-permalink" href="#Types-of-boundary-conditions-1" title="Permalink"></a></h2><ol><li><a href="../../library/#Oceananigans.Grids.Periodic"><code>Periodic</code></a></li><li><a href="../../library/#Oceananigans.BoundaryConditions.Flux"><code>Flux</code></a></li><li><a href="../../library/#Oceananigans.BoundaryConditions.Value"><code>Value</code></a></li><li><a href="../../library/#Oceananigans.BoundaryConditions.Gradient"><code>Gradient</code></a></li><li><a href="model_setup/@ref NoPenetration"><code>No-penetration</code></a></li></ol><p>Notice that open boundary conditions and radiation boundary conditions can be imposed via flux or value boundary conditions defined by a function or array. Or alternatively, through a forcing function which is more flexible.</p><h2 id="Default-boundary-conditions-1"><a class="docs-heading-anchor" href="#Default-boundary-conditions-1">Default boundary conditions</a><a class="docs-heading-anchor-permalink" href="#Default-boundary-conditions-1" title="Permalink"></a></h2><p>By default, periodic boundary conditions are applied on all fields along periodic dimensions. Otherwise tracers get no-flux boundary conditions and velocities get free-slip and no-penetration boundary conditions.</p><h2 id="Boundary-condition-structures-1"><a class="docs-heading-anchor" href="#Boundary-condition-structures-1">Boundary condition structures</a><a class="docs-heading-anchor-permalink" href="#Boundary-condition-structures-1" title="Permalink"></a></h2><p>Oceananigans uses a hierarchical structure to expressing boundary conditions.</p><ol><li>A <a href="../../library/#Oceananigans.BoundaryConditions.BoundaryCondition"><code>BoundaryCondition</code></a> is associated with every field, dimension, and endpoint.</li><li>Boundary conditions specifying the condition at the left and right endpoints are grouped into <a href="../../library/#Oceananigans.BoundaryConditions.CoordinateBoundaryConditions"><code>CoordinateBoundaryConditions</code></a>.</li><li>A set of three <code>CoordinateBoundaryConditions</code> specifying the boundary conditions along the x, y, and z dimensions for a single field are grouped into a <a href="../../library/#Oceananigans.BoundaryConditions.FieldBoundaryConditions"><code>FieldBoundaryConditions</code></a> named tuple.</li><li>A set of <code>FieldBoundaryConditions</code>, one for each field, are grouped together into a named tuple and passed to the <code>Model</code> constructor.</li></ol><p>Boundary conditions are defined at model construction time by passing a named tuple of <code>FieldBoundaryConditions</code> specifying boundary conditions on every field: velocities (<span>$u$</span>, <span>$v$</span>, <span>$w$</span>) and all tracers.</p><p>See the sections below for more details. The examples and verification experiments also provide examples for setting up many different kinds of boundary conditions.</p><h2 id="Creating-individual-boundary-conditions-1"><a class="docs-heading-anchor" href="#Creating-individual-boundary-conditions-1">Creating individual boundary conditions</a><a class="docs-heading-anchor-permalink" href="#Creating-individual-boundary-conditions-1" title="Permalink"></a></h2><p>Some examples of creating individual boundary conditions:</p><ol><li>A constant Value (Dirchlet) boundary condition, perhaps representing a constant temperature at some boundary.</li></ol><pre><code class="language-julia">constant_T_bc = ValueBoundaryCondition(20)</code></pre><pre><code class="language-none">BoundaryCondition: type=Value, condition=20</code></pre><ol><li>A constant flux boundary condition, perhaps representing a constant wind stress at some boundary such as the ocean surface.</li></ol><pre><code class="language-julia">ρ₀ = 1027  # Reference density [kg/m³]
τₓ = 0.08  # Wind stress [N/m²]
wind_stress_bc = FluxBoundaryCondition(τₓ/ρ₀)</code></pre><pre><code class="language-none">BoundaryCondition: type=Flux, condition=7.789678675754625e-5</code></pre><ol><li>A spatially varying (white noise) cooling flux to be imposed at some boundary. Note that the boundary condition is given by the array <code>Q</code> here. When running on the GPU, <code>Q</code> must be converted to a <code>CuArray</code>.</li></ol><pre><code class="language-julia">Nx = Ny = 16  # Number of grid points.

ρ₀ = 1027  # Reference density [kg/m³]
cₚ = 4000  # Heat capacity of water at constant pressure [J/kg/K]

Q  = randn(Nx, Ny) ./ (ρ₀ * cₚ)

white_noise_T_bc = FluxBoundaryCondition(Q)</code></pre><pre><code class="language-none">BoundaryCondition: type=Flux, condition=[-8.733188442553017e-8 -1.064823793116559e-7 2.132387172531249e-7 4.4596834384665357e-7 -3.2339340902239784e-7 3.926355633739412e-7 7.160736413514502e-8 -3.696654466747922e-7 6.218313924956728e-8 2.284347432465461e-7 -1.4444076607426808e-8 1.4868893194299178e-8 1.2455896349175273e-7 2.7659891478216474e-7 1.8989412865818095e-7 1.7919988969351755e-7; -2.4755661153696607e-7 2.3970914797997254e-7 3.5277188650671355e-7 -4.222545074207193e-8 -5.6592452170134396e-8 1.8911148671161617e-7 -3.384049047045587e-8 2.3358144874246188e-7 1.582975724348154e-7 1.262413532836032e-7 8.341652799383703e-8 -1.3701420736103037e-7 2.884091965662478e-7 -1.2330916479359371e-7 -8.352149183594467e-8 -5.470409742992746e-8; 2.9080083181167433e-7 -4.205647297313916e-7 -3.344221574939939e-7 3.6546826361977783e-8 3.807488444270289e-8 -5.211836778240975e-7 -1.834004842869177e-8 9.227216194356541e-8 2.8754353036220874e-7 6.11705992393519e-7 -2.929320857836597e-7 3.635435826272006e-7 1.3337670654641261e-8 -3.3716164236010394e-7 -1.1669978194760205e-7 1.2365300185800137e-7; 4.098708546296292e-8 -4.602136485908652e-7 1.6206102065608218e-7 1.0008712669414185e-7 1.1410483750410588e-8 -3.226635814524132e-7 3.0355808342095916e-7 -1.047480791794872e-7 -3.143627145202097e-8 1.9988467871961202e-7 -1.664627476074019e-7 -1.9121676697233308e-7 4.9621229514784136e-8 2.6674303208128325e-7 -1.3842822936496838e-7 -4.9357484579168345e-8; -4.634410565699917e-8 -6.235913293662114e-7 6.050828837920929e-8 5.832978554812835e-8 9.93086429929945e-8 -6.213795885240381e-8 -1.3331042844025796e-7 -5.128800030446824e-8 -1.5075113276518108e-7 1.2175165469222858e-7 -7.281406796576824e-8 2.1083174889270867e-8 1.454054413963798e-7 -1.472554247438392e-7 -1.7607266078552316e-7 1.8590193149706962e-7; -2.6485323801175585e-7 -3.783295043383048e-7 8.726012255952803e-9 -2.7215768408983254e-8 5.3883920880579716e-8 -5.1041141358535225e-8 -2.1143427556952376e-7 1.856321220502622e-7 -1.9967824450861537e-7 1.8456481657371668e-7 4.216883463445125e-7 -3.065722855922854e-7 1.3887211061416332e-7 3.9143060615864243e-8 -2.4490772575481556e-7 -3.165891525038299e-7; -3.8909504537984615e-8 -8.791502566656374e-8 5.839916690987883e-7 2.72482057265765e-7 2.634114537471494e-7 7.875959801612283e-8 -9.320563502957309e-8 2.7102309705379756e-7 -2.943857237808333e-7 -3.105809402172379e-7 3.9103111826683386e-7 -2.529821301351713e-7 -2.1430521126012086e-7 -2.5707727796122436e-7 -1.298606550778141e-7 4.635255761290647e-7; 1.0656650640810786e-7 -9.257256519507743e-8 -2.113822316880886e-7 4.435886099491284e-9 -2.8528135379626995e-7 -1.2895000235604735e-8 1.536945059099961e-7 -2.479779252838585e-7 -6.390338629267631e-8 2.8458047346377705e-7 1.20233507845983e-7 5.043933154330596e-7 1.9088768747214396e-7 -2.3551366840278512e-7 9.753332221042591e-8 3.8710556031619096e-7; -4.909563739039677e-7 -3.669364054929142e-7 4.466734120379756e-7 -2.4105589208509784e-7 2.9144248499477384e-7 -5.5854032362155946e-8 -3.691970285919779e-7 -2.7270857081509114e-7 1.7164505185375712e-7 1.3018063583670398e-7 1.1917693575433834e-7 -4.396457958785155e-7 -1.531017336323548e-7 4.225192061731206e-9 -7.494770489333273e-9 3.2063540250439805e-7; -1.3869046081235217e-8 3.480524628974449e-7 2.7418331758691543e-7 4.4034217279964535e-8 -9.781434565397059e-8 -1.995299031000565e-7 -3.192153573313319e-7 -2.915190771870022e-7 -5.536108346466306e-7 7.456762745128848e-8 1.1027564473140017e-7 -1.8803832062250257e-7 -1.176359332162777e-7 3.2077362084852143e-7 2.258481072548237e-7 -2.0687943862772424e-7; -2.7171477970949148e-8 8.42952509395366e-8 4.614948286434493e-8 1.9383578540395253e-7 -1.9534388519255307e-7 -2.2125846166663993e-7 2.0769515610446263e-8 2.6853417636233157e-7 -1.4381687563946177e-7 -1.1493349528133834e-7 6.578031345208088e-8 -2.683307102091879e-7 -2.356752918872122e-7 6.215274251444512e-8 2.795826439038131e-7 -7.292954688202554e-7; 1.410327494355481e-7 -3.884281804684681e-7 1.8083757628459917e-8 3.657322287072103e-8 -1.1298023323373132e-8 2.49288442684479e-7 -1.7671472371130982e-7 -4.5414870598727004e-7 -2.549961077928225e-7 6.754467929546522e-8 3.61009078444073e-7 -2.305236940077189e-7 -6.852098233317375e-8 2.5562243635286816e-7 9.963372811998633e-8 5.244581087771648e-7; -4.60678301307778e-8 2.408245498387648e-7 3.2046778809667566e-7 1.4438665343248655e-7 8.871214471583167e-8 4.32523777776407e-7 1.5010654460749576e-7 6.203039981216469e-8 8.857539311162833e-8 -1.8519753491637812e-7 1.1472491518907823e-7 -3.52744704654572e-8 -9.537703060536939e-9 -5.530272007182891e-8 6.73924504730396e-8 -1.5037125623928876e-7; -3.7707480522799357e-7 -1.4332647073942708e-7 -2.797530046720196e-7 -4.1668949420831433e-7 -5.405030741581284e-8 -2.4400286530238365e-7 2.915349329543631e-7 1.0210719901948469e-7 -1.7678853916506597e-7 6.296060332936744e-7 3.4891231816042053e-7 -9.75902754890374e-8 -3.008964946986434e-7 4.561416074920096e-8 2.753522994923367e-7 8.411171439958376e-8; 7.032452936456912e-8 1.5563542760807536e-7 9.348645034298688e-8 -1.0695889507870006e-7 2.1845065637874538e-8 -8.247203816587476e-8 3.007862561770281e-7 2.0403552218402844e-7 -4.847225043106096e-7 -2.95751395903977e-8 9.072691535370403e-8 -1.087048553277869e-7 -3.257445953041652e-7 -4.9067467409480197e-8 -1.7635886344852963e-7 1.6340307042692286e-7; 2.669713204588382e-7 -2.8381256652149557e-7 -5.2509745692528425e-9 -3.3422286223947346e-7 1.5816514885854015e-7 1.0080748575646308e-8 -6.749229359182468e-8 8.030470376198208e-8 1.6854291822749367e-7 -2.4235151591423685e-7 2.706493964865959e-9 2.6879978705735797e-8 -1.4517120563569852e-7 2.0442956919495812e-7 -5.5341090844944536e-8 2.8438204509232587e-7]</code></pre><h2 id="Specifying-boundary-conditions-with-functions-1"><a class="docs-heading-anchor" href="#Specifying-boundary-conditions-with-functions-1">Specifying boundary conditions with functions</a><a class="docs-heading-anchor-permalink" href="#Specifying-boundary-conditions-with-functions-1" title="Permalink"></a></h2><p>You can also specify the boundary condition via a function. For z boundary conditions the function will be called with the signature</p><pre><code class="language-none">f(i, j, grid, time, iteration, U, C, params)</code></pre><p>where <code>i, j</code> is the grid index, <code>grid</code> is <code>model.grid</code>, <code>time</code> is the <code>model.clock.time</code>, <code>iteration</code> is the <code>model.clock.iteration</code>, <code>U</code> is the named tuple <code>model.velocities</code>, <code>C</code> is the named tuple <code>C.tracers</code>, and <code>params</code> is the user-defined <code>model.parameters</code>. The signature is similar for x and y boundary conditions expect that <code>i, j</code> is replaced with <code>j, k</code> and <code>i, k</code> respectively.</p><p>We can add a fourth example now:</p><ol><li>A spatially varying and time-dependent heating representing perhaps a localized source of heating modulated by a diurnal cycle.</li></ol><pre><code class="language-julia">@inline Q(i, j, grid, t, I, U, C, params) = @inbounds exp(-(grid.xC[i]^2 + grid.yC[j]^2)) * sin(2π*t)
localized_heating_bc = FluxBoundaryCondition(Q)</code></pre><pre><code class="language-none">BoundaryCondition: type=Flux, condition=Q</code></pre><div class="admonition is-info"><header class="admonition-header">Performance of functions in boundary conditions</header><div class="admonition-body"><p>For performance reasons, you should define all functions used in boundary conditions as inline functions via the <code>@inline</code> macro. If any arrays are accessed within the function, disabling bounds-checking with <code>@inbounds</code> will also speed things up.</p></div></div><h2 id="Specifying-boundary-conditions-on-a-field-1"><a class="docs-heading-anchor" href="#Specifying-boundary-conditions-on-a-field-1">Specifying boundary conditions on a field</a><a class="docs-heading-anchor-permalink" href="#Specifying-boundary-conditions-on-a-field-1" title="Permalink"></a></h2><p>To, for example, create a set of horizontally periodic field boundary conditions</p><pre><code class="language-julia">topology = (Periodic, Periodic, Bounded)
grid = RegularCartesianGrid(size=(16, 16, 16), length=(1, 1, 1), topology=topology)
T_bcs = TracerBoundaryConditions(grid,    top = ValueBoundaryCondition(20),
                                       bottom = GradientBoundaryCondition(0.01))</code></pre><pre><code class="language-none">Oceananigans.FieldBoundaryConditions (NamedTuple{(:x, :y, :z)}), with boundary conditions
├── x: CoordinateBoundaryConditions{BoundaryCondition{Oceananigans.BoundaryConditions.Periodic,Nothing},BoundaryCondition{Oceananigans.BoundaryConditions.Periodic,Nothing}}
├── y: CoordinateBoundaryConditions{BoundaryCondition{Oceananigans.BoundaryConditions.Periodic,Nothing},BoundaryCondition{Oceananigans.BoundaryConditions.Periodic,Nothing}}
└── z: CoordinateBoundaryConditions{BoundaryCondition{Gradient,Float64},BoundaryCondition{Value,Int64}}</code></pre><p>which will create a <a href="../../library/#Oceananigans.BoundaryConditions.FieldBoundaryConditions"><code>FieldBoundaryConditions</code></a> object for temperature T appropriate for horizontally periodic model configurations where the x and y boundary conditions are all periodic.</p><h2 id="Specifying-model-boundary-conditions-1"><a class="docs-heading-anchor" href="#Specifying-model-boundary-conditions-1">Specifying model boundary conditions</a><a class="docs-heading-anchor-permalink" href="#Specifying-model-boundary-conditions-1" title="Permalink"></a></h2><p>A named tuple of <a href="../../library/#Oceananigans.BoundaryConditions.FieldBoundaryConditions"><code>FieldBoundaryConditions</code></a> objects must be passed to the Model constructor specifying boundary conditions on all fields. To, for example, impose non-default boundary conditions on the u-velocity and temperature</p><pre><code class="language-">using Oceananigans # hide
topology = (Periodic, Periodic, Bounded)
grid = RegularCartesianGrid(size=(16, 16, 16), length=(1, 1, 1), topology=topology)

u_bcs = UVelocityBoundaryConditions(grid,   top = ValueBoundaryCondition(+0.1),
                                         bottom = ValueBoundaryCondition(-0.1))
T_bcs = TracerBoundaryConditions(grid,   top = ValueBoundaryCondition(20),
                                      bottom = GradientBoundaryCondition(0.01))

model_bcs = SolutionBoundaryConditions(u=u_bcs, T=T_bcs)

model = Model(grid=grid, boundary_conditions=model_bcs)
nothing # hide</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../buoyancy_and_equation_of_state/">« Buoyancy and equation of state</a><a class="docs-footer-nextpage" href="../forcing_functions/">Forcing functions »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 6 March 2020 12:08">Friday 6 March 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
