<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Oceananigans.jl</title><link rel="canonical" href="https://climate-machine.github.io/Oceananigans.jl/latest/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><link href="assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Oceananigans.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#Installation-instructions-1">Installation instructions</a></li><li><a class="toctext" href="#Running-your-first-model-1">Running your first model</a></li></ul></li><li><a class="toctext" href="examples/">Examples</a></li><li><a class="toctext" href="algorithm/">Numerical algorithm</a></li><li><a class="toctext" href="benchmarks/">Performance benchmarks</a></li><li><span class="toctext">Internals</span><ul><li><a class="toctext" href="internal/grids/">Grids</a></li><li><a class="toctext" href="internal/fields/">Fields</a></li><li><a class="toctext" href="internal/operators/">Operators</a></li></ul></li><li><a class="toctext" href="subject_index/">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/climate-machine/Oceananigans.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Oceananigans.jl-1" href="#Oceananigans.jl-1">Oceananigans.jl</a></h1><p>Oceananigans is a fast non-hydrostatic ocean model written in Julia that can be run in 2 or 3 dimensions on CPUs and GPUs.</p><h2><a class="nav-anchor" id="Installation-instructions-1" href="#Installation-instructions-1">Installation instructions</a></h2><p>Oceananigans is still not an official Julia package. But you can install it using the built-in package manager (accessed by pressing <code>]</code> in the Julia command prompt)</p><pre><code class="language-julia">julia&gt;]
(v1.1) pkg&gt; add https://github.com/climate-machine/Oceananigans.jl.git</code></pre><p><strong>Note</strong>: We recommend using Julia 1.1 with Oceananigans.</p><h2><a class="nav-anchor" id="Running-your-first-model-1" href="#Running-your-first-model-1">Running your first model</a></h2><p>Let&#39;s initialize a 3D ocean with <span>$100\times100\times50$</span> grid points on a <span>$2\times2\times1$</span> km domain and simulate it for 10 time steps using steps of 60 seconds each (for a total of 10 minutes of simulation time).</p><pre><code class="language-julia">using Oceananigans
Nx, Ny, Nz = 100, 100, 50      # Number of grid points in each dimension.
Lx, Ly, Lz = 2000, 2000, 1000  # Domain size (meters).
Nt, Δt = 10, 60                # Number of time steps, time step size (seconds).

model = Model(N=(Nx, Ny, Nz), L=(Lx, Ly, Lz))
time_step!(model, Nt, Δt)</code></pre><p>You just simulated a 3D patch of ocean, it&#39;s that easy! It was a still lifeless ocean so nothing interesting happened but now you can add interesting dynamics and plot the output.</p><h3><a class="nav-anchor" id="CPU-example-1" href="#CPU-example-1">CPU example</a></h3><p>Let&#39;s add something to make the ocean dynamics a bit more interesting. We can add a hot bubble in the middle of the ocean and watch it rise to the surface. This example also shows how to set an initial condition and write regular output to NetCDF.</p><pre><code class="language-julia">using Oceananigans

# We&#39;ll set up a 2D model with an xz-slice so there&#39;s only 1 grid point in y.
Nx, Ny, Nz = 256, 1, 256    # Number of grid points in each dimension.
Lx, Ly, Lz = 2000, 1, 2000  # Domain size (meters).
Nt, Δt = 5000, 10           # Number of time steps, time step size (seconds).

# Set up the model and use an artificially high viscosity ν and diffusivity κ.
model = Model(N=(Nx, Ny, Nz), L=(Lx, Ly, Lz), ν=4e-2, κ=4e-2)

# Set a temperature perturbation with a Gaussian profile located at the center
# of the vertical slice. It roughly corresponds to a background temperature of
# T = 282.99 K and a bubble temperature of T = 283.01 K.
xC, zC = model.grid.xC, model.grid.zC  # Location of the cell centers in x and z.
hot_bubble_perturbation = @. 0.01 * exp(-100 * ((xC - Lx/2)^2 + (zC + Lz/2)&#39;^2) / (Lx^2 + Lz^2))
model.tracers.T.data .= 282.99 .+ 2 .* reshape(hot_bubble_perturbation, (Nx, Ny, Nz))

# Add a NetCDF output writer that saves NetCDF files to the current directory
# &quot;.&quot; with a filename prefix of &quot;thermal_bubble_&quot; every 10 iterations.
nc_writer = NetCDFOutputWriter(dir=&quot;.&quot;, prefix=&quot;thermal_bubble_&quot;, frequency=10)
push!(model.output_writers, nc_writer)

time_step!(model, Nt, Δt)</code></pre><p>Check out <a href="https://github.com/climate-machine/Oceananigans.jl/blob/master/examples/rising_thermal_bubble.jl"><code>rising_thermal_bubble.jl</code></a> to see how you can plot a 2D movie with the output.</p><h3><a class="nav-anchor" id="GPU-example-1" href="#GPU-example-1">GPU example</a></h3><p>If you have access to an Nvidia CUDA-enabled graphics processing unit (GPU) you can run ocean models on it! Just pass <code>arch=GPU()</code> as a keyword argument when constructing the model:</p><pre><code class="language-julia">model = Model(N=(Nx, Ny, Nz), L=(Lx, Ly, Lz), arch=GPU())</code></pre><footer><hr/><a class="next" href="examples/"><span class="direction">Next</span><span class="title">Examples</span></a></footer></article></body></html>
